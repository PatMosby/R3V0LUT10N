<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<!-- Administration -->
<h:head>
	<title>#{messages.library}</title>
</h:head>
<h:body>
    <h:outputStylesheet name="css/bib.css" />
	<h:form id="form">
        <ui:include src="/mainmenu.xhtml" />

		<h1>#{messages.administration}</h1>

		<h:panelGrid columns="3">
			<p:commandButton value="#{messages.backupDB}" icon="ui-icon-disk"
				onclick="confirmBackupDBDialog.show()" update="@parent" />
			<p:commandButton value="#{messages.restoreDB}"
				icon="ui-icon-arrowrefresh-1-w"
				onclick="confirmRestoreDBDialog.show()" update="@parent" />
			<p:commandButton value="#{messages.resetDB}" icon="ui-icon-trash"
				onclick="confirmResetDBDialog.show()" update="@parent" />
		</h:panelGrid>

		<p:confirmDialog id="resetDBDialog"
			message="#{messages.resetDBquestion}" header="#{messages.delete}"
			severity="alert" widgetVar="confirmResetDBDialog">
			<p:commandButton id="resetDBDialogyes" value="#{messages.yes}"
				actionListener="#{administration.resetDB}"
				styleClass="ui-confirmdialog-yes" icon="ui-icon-check"
				update="messages" oncomplete="confirmResetDBDialog.hide()" />
			<p:commandButton id="resetDBDialogno" value="#{messages.no}"
				onclick="confirmResetDBDialog.hide();" type="button"
				styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
		</p:confirmDialog>

		<p:confirmDialog id="backupDBDialog"
			message="#{messages.backupDBquestion}" header="#{messages.backupDB}"
			severity="alert" widgetVar="confirmBackupDBDialog">
			<p:commandButton id="backupDBDialogyes" value="#{messages.yes}"
				actionListener="#{administration.backupDB}"
				styleClass="ui-confirmdialog-yes" icon="ui-icon-check"
				update="messages" oncomplete="confirmBackupDBDialog.hide()" />
			<p:commandButton id="backupDBDialogno" value="#{messages.no}"
				onclick="confirmBackupDBDialog.hide();" type="button"
				styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
		</p:confirmDialog>

		<p:confirmDialog id="restoreDBDialog"
			message="#{messages.restoreDBquestion}"
			header="#{messages.restoreDB}" severity="alert"
			widgetVar="confirmRestoreDBDialog">
			<p:commandButton id="restoreDBDialogyes" value="#{messages.yes}"
				actionListener="#{administration.restoreDB}"
				styleClass="ui-confirmdialog-yes" icon="ui-icon-check"
				update="messages" oncomplete="confirmRestoreDBDialog.hide()" />
			<p:commandButton id="restoreDBDialogno" value="#{messages.no}"
				onclick="confirmRestoreDBDialog.hide();" type="button"
				styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
		</p:confirmDialog>

        <p:messages id="messages" showDetail="true" autoUpdate="true" closable="true" />

	</h:form>
</h:body>
</html>