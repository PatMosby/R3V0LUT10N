<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui">

<body>

<ui:composition>
<p:graphicImage url="/resources/images/header.png" border="0" /> <!-- bild war vorher in index.html -->
		<p:menubar id="mainmenubar">
			<p:menuitem value="#{messages.home}" icon="ui-icon-home"
				url="/index.xhtml" />

			<p:menuitem value="#{messages.listall}" url="/book/list.xhtml" icon="ui-icon-document" />
			
			<p:submenu label="#{messages.readers}" icon="ui-icon-arrowreturnthick-1-e" rendered="#{request.isUserInRole('LIBRARIAN')}">
				<p:menuitem value="#{messages.search}" url="/reader/list.xhtml" />
				<p:menuitem value="#{messages.add}" url="/reader/add.xhtml" />
				<p:menuitem value="#{messages.list}" url="/reader/list.xhtml" />
			</p:submenu>
			
			<p:submenu label="#{messages.profile}" icon="ui-icon-person" rendered="#{request.isUserInRole('USER')}">
				<p:menuitem value="#{messages.myData}" url="/users/user.xhtml" />
				<p:menuitem value="#{messages.myBooks}" url="/users/lendingList.xhtml" />
				<p:menuitem value="#{messages.myReservations}" url="#" />
				<p:menuitem value="#{messages.history}" url="#" />
				<p:menuitem value="#{messages.settings}" icon="ui-icon-gear" url="#" />
			
			</p:submenu>

			<p:submenu label="#{messages.help}" icon="ui-icon-help">
				<p:menuitem value="#{messages.contents}" url="#" />
				<p:menuitem value="#{messages.search}" icon="ui-icon-search" />
			</p:submenu>

			<p:submenu label="#{messages.bib}" icon="ui-icon-note" rendered="#{request.isUserInRole('LIBRARIAN')}">
				<p:menuitem value="#{messages.addmedium}" url="/librarian/addMedium.xhtml" />
				<p:menuitem value="#{messages.borrow}" url="/librarian/borrow.xhtml" />
				<p:menuitem value="#{messages.lendinglist}" url="/librarian/list.xhtml" />
				<p:menuitem value="#{messages.return}" url="/librarian/return.xhtml" />
				<p:menuitem value="#{messages.statistic}" url="/librarian/Statistiklist.xhtml"/>
				
				<p:submenu label="#{messages.settings}" icon="ui-icon-gear">
					<p:menuitem value="#{messages.editIndex}" url="/librarian/editor.xhtml"/>
					<p:menuitem value="#{messages.editOpening}" url="/librarian/setTimes.xhtml"/>

					<p:menuitem value="#{messages.fines}" url="/chargesTime/change.xhtml"/>

					<p:menuitem value="#{messages.reservation}" url="#"/>
				    <p:menuitem value="#{messages.inActiveUser}" url="/librarian/inActiveUser.xhtml" />
				</p:submenu>
			</p:submenu>

			<p:submenu label="#{messages.administration}" icon="ui-icon-gear" rendered="#{request.isUserInRole('ADMIN')}">
				<p:menuitem value="#{messages.managelibrarian}" url="/admin/manlib.xhtml"/>
				<p:menuitem value="#{messages.manageDB}" url="/admin/mandata.xhtml"/>
			</p:submenu>

			<p:menuitem value="#{messages.login}" icon="ui-icon-extlink"
				url="/faces/login.xhtml" rendered="#{!request.isRequestedSessionIdValid()}" />
				
			<p:menuitem value="#{messages.logout}" icon="ui-icon-extlink" 
				action="#{authBackingBean.logout}" rendered="#{request.isUserInRole('USER')}"/>
				
			<p:menuitem value="#{messages.logout}" icon="ui-icon-extlink" 
				action="#{authBackingBean.logout}" rendered="#{request.isUserInRole('LIBRARIAN')}"/>
				
			<p:menuitem value="#{messages.logout}" icon="ui-icon-extlink" 
				action="#{authBackingBean.logout}" rendered="#{request.isUserInRole('ADMIN')}"/>
		</p:menubar>
	</ui:composition>
</body>
</html>            