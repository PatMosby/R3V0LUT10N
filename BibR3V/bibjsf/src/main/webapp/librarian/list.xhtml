<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<!-- Form for file upload -->
<!-- http://www.primefaces.org/showcase/ui/datatableCellEditing.jsf -->
<h:head>
	<title>#{messages.lendinglist}</title>
</h:head>
<h:body>
	<h:outputStylesheet name="css/bib.css" />
	<f:view>
		<h:form id="form" onkeypress="return event.keyCode != 13">
		<p:outputPanel id="container">
			<ui:include src="/mainmenu.xhtml" />


<!--  http://www.primefaces.org/showcase/ui/datatableRowEditing.jsf-->
  
			<p:dataTable id="lending" widgetVar="varLending"
				value="#{handler.getBorrower()}" rowIndexVar="rowIndex" var="borrowList" editable="true"
				editMode="cell">
				
			
				<p:ajax event="cellEdit" listener="#{handler.onCellEdit}"  update=":form:lending" />

<f:facet name="header" >
<u>Ausleihliste</u>
<p>INFO: Die Spalten <em>Rückgabedatum</em> und <em>Mahngebühren</em> sind durch Klicken individuell einstellbar. Die Werte für die Mahngebühren müssen 
zwei Nachkommastellen enthalten, sonst werden sie nicht gespeichert. </p>
<p>Beispiel: Für <em>3 €</em> den Wert <em>3.00</em> eintragen.</p>
</f:facet>




				<p:column>
					<f:facet name="header"> ID</f:facet>
	#{borrowList.id}
	</p:column>

				<p:column>
					<f:facet name="header"> Medium ID</f:facet>
	#{borrowList.getBookID()}
	</p:column>
				<p:column>
					<f:facet name="header"> Leser ID</f:facet>
	#{borrowList.readerID}
	</p:column>
	
	<p:column headerText="Vorname">
					<f:facet name="Vorname"> Vorname</f:facet>
	#{borrowList.vorname}
	</p:column>
	
	
				<p:column headerText="Nachname">
					<f:facet name="Nachname">Nachname</f:facet>
	#{borrowList.nachname}
	</p:column>

				<p:column headerText="Rückgabedatum">


					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{borrowList.date}" />  <!-- borrowList.date -->
						</f:facet>
						<f:facet name="input">
						
							 <p:inputText id="date" value= "#{handler.date}"  ></p:inputText> 
						</f:facet>						
							
					
					</p:cellEditor>
				</p:column>
					
					<p:column headerText="Mahngebühren">


					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{borrowList.fines}" />  <!-- borrowList.date -->
						</f:facet>
						<f:facet name="input">
						<!-- <p:remoteCommand name="test" actionListener="#{data.tester}"/> -->
                     <!--   <p:inputText id="commentInput" value="#{data.test}" -->
                         <!--             onkeypress="if (event.keyCode == 13) { test(); return false; }"/> -->
							 <p:inputText id="datum" value= "#{handler.fines}"  ></p:inputText> 
						</f:facet>						
							
					
					</p:cellEditor>
				</p:column>
		
			</p:dataTable>
</p:outputPanel>
		</h:form>
	</f:view>
</h:body>
</html>
